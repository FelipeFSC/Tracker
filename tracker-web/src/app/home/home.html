<ng-container *ngIf="isMobile; else desktopLayout">
	<!-- Layout mobile com sidenav -->
	<mat-sidenav-container class="app-container">
		<mat-sidenav #sidenav mode="over" class="app-sidenav">
			<mat-nav-list>
				<a mat-list-item routerLink="/" (click)="sidenav.close()">In√≠cio</a>
				<a mat-list-item routerLink="/about" (click)="sidenav.close()">Sobre</a>
			</mat-nav-list>
		</mat-sidenav>

		<mat-sidenav-content>
			<mat-toolbar color="primary">
				<button mat-icon-button (click)="sidenav.toggle()">
					<mat-icon>menu</mat-icon>
				</button>
				<span>Meu App</span>
			</mat-toolbar>

			<div class="app-content">
				<router-outlet></router-outlet>

				<div class="app-content">

					<div class="form-container">
						<form (ngSubmit)="enviarFormulario()">
							<h2>Tracker</h2>

							<div id="tasks-container">
								<div class="grouped-fields" *ngFor="let task of tasks; let i = index" #lastTask>
									<div class="form-row" *ngIf="!isOpen">
										<mat-form-field appearance="fill">
											<mat-label>Hora In√≠cio</mat-label>
											<input matInput type="time" [(ngModel)]="task.horaInicio"
												name="horaInicio-{{ i }}" required>
										</mat-form-field>

										<mat-form-field appearance="fill">
											<mat-label>Hora Fim</mat-label>
											<input matInput type="time" [(ngModel)]="task.horaFim"
												name="horaFim-{{ i }}" required>
										</mat-form-field>
									</div>
									<div class="form-row" *ngIf="!isOpen">
										<mat-form-field>
											<mat-label>Tipo de atividade</mat-label>
											<mat-select>
												<mat-option value="option">Tarefa</mat-option>
												<mat-option value="option">Reuni√£o</mat-option>
												<mat-option value="option">Almo√ßo</mat-option>
												<mat-option value="option">F√©rias</mat-option>
											</mat-select>
										</mat-form-field>
										<mat-form-field>
											<mat-label>Solicitante</mat-label>
											<mat-select>
												<mat-option value="option">Coca cola</mat-option>
												<mat-option value="option">Itau</mat-option>
												<mat-option value="option">Bradesco</mat-option>
												<mat-option value="option">Xuxa</mat-option>
											</mat-select>
										</mat-form-field>
									</div>
									<ng-container *ngIf="isOpen">
										<mat-form-field class="full-width">
											<mat-label>OS</mat-label>
											<input matInput>
										</mat-form-field>
										<mat-form-field class="full-width">
											<mat-label>Observa√ß√µes</mat-label>
											<textarea matInput rows="1" placeholder="" [(ngModel)]="task.descricao"
												name="descricao"></textarea>
										</mat-form-field>
									</ng-container>
									<div class="form-actions">
										<button mat-raised-button color="warn" type="button"
											class="buttom-radius action-buttom" (click)="removerTarefa(i)">
											Deletar
										</button>

										<ng-container *ngIf="!isOpen">
											<button mat-raised-button color="primary" type="button"
												class="buttom-radius action-buttom" (click)="onOpen()">
												Abrir
											</button>
										</ng-container>
										<ng-container *ngIf="isOpen">
											<button mat-raised-button type="button"
												class="buttom-radius action-buttom alert-button" (click)="onOpen()">
												Fechar
											</button>
										</ng-container>
									</div>
								</div>
							</div>


							<div class="actions">
								<button mat-raised-button color="accent" type="button" class="buttom-radius"
									(click)="adicionarTarefa()">
									+ Add tarefa
								</button>
							</div>

							<div class="actions">
								<button mat-raised-button class="full-width buttom-radius save-button"
									type="submit">Salvar</button>
							</div>

						</form>
					</div>

				</div>
			</div>
		</mat-sidenav-content>
	</mat-sidenav-container>
</ng-container>

<ng-template #desktopLayout>
	<!-- Layout desktop com menu horizontal -->
	<mat-toolbar color="primary">
		<span>Meu App</span>
		<span class="spacer"></span>
		<a mat-button routerLink="/">üè† In√≠cio</a>
		<a mat-button routerLink="/about">‚ÑπÔ∏è Sobre</a>
	</mat-toolbar>

	<div class="app-content">
		<router-outlet></router-outlet>
		xxxxxxxxxxxxxxxxxxxxxxxxx
	</div>
</ng-template>